# seditor - Simple Terminal Editor

Простой и функциональный консольный редактор для macOS и Linux с разделённым интерфейсом и поддержкой синтаксиса.

## Описание

**seditor** — это терминальный текстовый редактор, который предоставляет удобный интерфейс для работы с файлами прямо в консоли. Редактор разделяет экран на две панели: дерево файлов (25%) и область редактирования (75%), что делает навигацию по проекту и редактирование файлов максимально удобными.

## Возможности

### Основные функции

- **Разделённый интерфейс**: Две панели — дерево файлов (25%) и редактор (75%)
- **Переключение фокуса**: Переключение между панелями через `Command+Tab` (macOS) или `Ctrl+Tab` (Linux)
- **Навигация по файлам**: Полнофункциональное дерево файлов с навигацией стрелками
- **Редактирование текста**: Мощный редактор с поддержкой истории изменений
- **Подсветка синтаксиса**: Автоматическое определение языка и подсветка синтаксиса через Pygments
- **Автосохранение**: Автоматическое сохранение изменений после 5 секунд бездействия
- **Командная строка**: Встроенная командная строка для выполнения bash-команд

### Горячие клавиши

- `Command/Ctrl + Tab` — переключение между панелями
- `Command/Ctrl + C` — копирование
- `Command/Ctrl + V` — вставка
- `Ctrl + Z` — отмена действий (undo)
- `Tab` — добавление отступов
- `Option/Ctrl + ←/→` — перемещение по словам
- `Option/Ctrl + ↑/↓` — выделение блоков по словам

## Установка

### Требования

- Python 3.10+
- Poetry (менеджер зависимостей)

### Установка через Poetry

```bash
# Клонирование репозитория
git clone https://github.com/yourusername/seditor.git
cd seditor

# Установка зависимостей
poetry install

# Активация виртуального окружения
poetry shell

# Запуск приложения
poetry run python -m seditor.main
```

Или просто:

```bash
poetry run seditor
```

### Установка без Poetry

```bash
# Клонирование репозитория
git clone https://github.com/yourusername/seditor.git
cd seditor

# Создание виртуального окружения
python3 -m venv venv
source venv/bin/activate  # На Linux/macOS
# или
venv\Scripts\activate  # На Windows

# Установка зависимостей
pip install -r requirements.txt  # Если есть
# или
pip install blessed pyperclip prompt-toolkit pygments

# Запуск
python -m seditor.main
```

## Использование

### Запуск редактора

```bash
poetry run python -m seditor.main
# или
poetry run seditor
```

### Основные операции

1. **Навигация по файлам**: Используйте стрелки в панели дерева файлов для навигации
2. **Открытие файла**: Нажмите `Enter` на файле в дереве файлов, чтобы открыть его в редакторе
3. **Переключение панелей**: Используйте `Command+Tab` для переключения между панелями
4. **Редактирование**: В панели редактора вводите текст как в обычном редакторе
5. **Сохранение**: Изменения сохраняются автоматически через 5 секунд после последнего изменения

### Примеры использования

```bash
# Запуск редактора в текущей директории
seditor

# Редактирование конкретного файла
seditor path/to/file.py
```

## Разработка

### Установка зависимостей для разработки

```bash
poetry install --with dev
```

### Запуск тестов

```bash
poetry run pytest
```

### Форматирование кода

```bash
poetry run black seditor/
```

### Проверка стиля кода

```bash
poetry run flake8 seditor/
```

### Проверка типов

```bash
poetry run mypy seditor/
```

## Структура проекта

```
seditor/
├── seditor/
│   ├── __init__.py
│   ├── main.py              # Точка входа
│   ├── components/          # Компоненты интерфейса
│   │   ├── editor.py        # Редактор (blessed)
│   │   ├── editor_ptk.py    # Редактор (prompt_toolkit)
│   │   └── file_tree.py     # Дерево файлов
│   ├── core/                # Основная логика
│   │   ├── app.py           # Главный класс приложения
│   │   └── app_ptk.py       # Версия с prompt_toolkit
│   ├── terminal/            # Управление терминалом
│   │   ├── layout.py        # Разметка экрана
│   │   └── manager.py       # Менеджер терминала
│   └── utils/               # Утилиты
│       └── file_utils.py    # Работа с файлами
├── tests/                   # Тесты
├── pyproject.toml           # Конфигурация Poetry
└── README.md
```

## Технологии

- **blessed** — работа с терминалом и создание UI
- **prompt-toolkit** — альтернативный UI фреймворк
- **pygments** — подсветка синтаксиса
- **pyperclip** — работа с буфером обмена

## Поддерживаемые платформы

- ✅ macOS
- ✅ Linux (в разработке)

## Contributing

Мы приветствуем вклад в развитие проекта! Если вы хотите внести свой вклад:

1. Сделайте fork проекта
2. Создайте ветку для вашей функции (`git checkout -b feature/AmazingFeature`)
3. Закоммитьте изменения (`git commit -m 'Add some AmazingFeature'`)
4. Запушьте в ветку (`git push origin feature/AmazingFeature`)
5. Откройте Pull Request

### Правила разработки

- Следуйте стилю кода проекта (форматирование через `black`)
- Добавляйте тесты для новых функций
- Обновляйте документацию при необходимости
- Проверяйте код с помощью `flake8` и `mypy`

## Известные ограничения

- Linux поддержка находится в активной разработке
- Некоторые горячие клавиши могут отличаться на Linux (используйте `Ctrl` вместо `Command`)

## Лицензия

Проект распространяется под лицензией MIT. Подробности см. в файле [LICENSE](LICENSE).

## Автор

Проект разработан для упрощения работы с кодом в терминале.

## Благодарности

- Спасибо всем контрибьюторам проекта
- Используются замечательные библиотеки: `blessed`, `prompt-toolkit`, `pygments`
